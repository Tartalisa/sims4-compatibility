<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sims 4</title>
    <style>
        #main > div {
            display: flex;
            flex-direction: row;
            gap: 10px;
            font-family: sans-serif;
        }

        table#history {
            border-collapse: collapse;
            border: 1px solid black;
            max-height: 150px;
        }

        table thead {
            border: 1px solid black;
        }

        table td {
            padding: 12px;
        }

        table tbody tr:nth-child(even), table thead tr {
            background-color: #DCDCDC;
        }

        table tbody tr:hover {
            background-color: #ececec;
        }

        table tbody tr td:nth-child(2), table tbody tr td:nth-child(4) {
            text-align: left;
        }

        table tbody tr td:nth-child(1), table tbody tr td:nth-child(3), table tbody tr td:nth-child(6) {
            text-align: right;
        }

        .side-menu {
            width: 25%;
        }

        #selected-traits, #partner-traits {
            font-size: 0.8em;
        }

        #selected-traits > div:hover:not(.yellow), #partner-traits > div:hover:not(.yellow) {
            background-color: #fffadc;
        }

        #partner-traits {
            width: 33%;
        }

        #compatibility-results {
            width: 50%;
            text-align: center;
        }

        main {
            width: 75%;
        }

        #result, #random, #selected-traits, #partner-traits, #compatibility > div {
            display: flex;
            flex-flow: row wrap;
            align-items: flex-start;
            justify-content: space-evenly;
            gap: 4px;
        }

        #result > div, #random > div, #selected-traits > div, #partner-traits > div {
            /*padding: 4px;*/
            border: gray 1px solid;
            cursor: pointer;
        }

        #result div, #random div, #selected-traits div, #partner-traits div {
            padding: 2px 8px;
        }

        .gray {
            background-color: lightgray;
        }

        .green {
            background-color: #8dbf7b;
        }

        .red {
            background-color: #dd8585;
        }

        .close-button:hover {
            cursor: pointer;
            color: #dd8585;
        }

        .yellow {
            background-color: #ffef96;
        }

        .tab-header {
            display: flex;
            flex-flow: row wrap;
            align-items: flex-start;
            justify-content: space-evenly;
            gap: 4px;
        }

        .tab-name {
            background-color: #eaeaea;
        }

        .tab-name.selected {
            background-color: #adadad;
        }

        .tab-body > .tab {
            display: none;
        }

        .tab-body > .tab.selected {
            display: block;
        }

    </style>
</head>
<body>
<script src="mkreactor.js"></script>
<script id="data" type="application/json">
    {
        "traits": [
            "Активный",
            "Без учения нет умения",
            "Безумный",
            "Веган",
            "Веселый",
            "Вечное дитя",
            "Влюбчивый",
            "Высокие запросы",
            "Гений",
            "Гик",
            "Гурман",
            "Дитя океана",
            "Дитя острова",
            "Добрый",
            "Достигатор",
            "Дружелюбный",
            "Душа компании",
            "Задира",
            "Злой",
            "Инсайдер",
            "Искусствовед",
            "Карьерист",
            "Клептоман",
            "Книжный червь",
            "Лежебока",
            "Любит кошек",
            "Любит природу",
            "Любит собак",
            "Любовь к животным",
            "Меломан",
            "Недотрога",
            "Неловкий в общении",
            "Непер. лактозы",
            "Непостоянный",
            "Неряха",
            "Неуклюжий",
            "Обжора",
            "Одиночка",
            "Осторож. в любви",
            "Отважный",
            "Параноик",
            "Переработчик",
            "Перфекционист",
            "Практичный",
            "Преданный",
            "Привереда",
            "Против детей",
            "Растяпа",
            "Ревнивый",
            "Романтик",
            "Самоуверенный",
            "Свой в доску",
            "Семьянин",
            "Сноб",
            "Танцмашина",
            "Творец",
            "Уважительный",
            "Угрюмый",
            "Умелец",
            "Фриган",
            "Холерик",
            "Чистюля",
            "Эгоцентричный",
            "Экоэнтузиаст"
        ],
        "categories": [
            {
                "name": "Дружба - Характер",
                "values": [
                    {
                        "value": "Домоседы",
                        "map": [
                            {
                                "trait": "Активный",
                                "weight": -1
                            },
                            {
                                "trait": "Книжный червь",
                                "weight": 1
                            },
                            {
                                "trait": "Любит природу",
                                "weight": -1
                            },
                            {
                                "trait": "Неуклюжий",
                                "weight": 1
                            },
                            {
                                "trait": "Одиночка",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Идеалисты",
                        "map": [
                            {
                                "trait": "Гений",
                                "weight": -1
                            },
                            {
                                "trait": "Искусствовед",
                                "weight": 1
                            },
                            {
                                "trait": "Меломан",
                                "weight": 1
                            },
                            {
                                "trait": "Творец",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Идущ. на поводу у эмоц.",
                        "map": [
                            {
                                "trait": "Непостоянный",
                                "weight": 1
                            },
                            {
                                "trait": "Ревнивый",
                                "weight": 1
                            },
                            {
                                "trait": "Самоуверенный",
                                "weight": -1
                            },
                            {
                                "trait": "Холерик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Интеллектуалы",
                        "map": [
                            {
                                "trait": "Гений",
                                "weight": 1
                            },
                            {
                                "trait": "Гик",
                                "weight": 1
                            },
                            {
                                "trait": "Книжный червь",
                                "weight": 1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": -1
                            },
                            {
                                "trait": "Творец",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Любители питомцев",
                        "map": [
                            {
                                "trait": "Злой",
                                "weight": -1
                            },
                            {
                                "trait": "Любит кошек",
                                "weight": 1
                            },
                            {
                                "trait": "Любит собак",
                                "weight": 1
                            },
                            {
                                "trait": "Любовь к животным",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Любители спорить",
                        "map": [
                            {
                                "trait": "Добрый",
                                "weight": -1
                            },
                            {
                                "trait": "Задира",
                                "weight": 1
                            },
                            {
                                "trait": "Злой",
                                "weight": 1
                            },
                            {
                                "trait": "Холерик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Неамбициозные",
                        "map": [
                            {
                                "trait": "Неряха",
                                "weight": 1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": -1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Одухотворенные",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": 1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": 1
                            },
                            {
                                "trait": "Свой в доску",
                                "weight": 1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Оптимисты",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": 1
                            },
                            {
                                "trait": "Добрый",
                                "weight": 1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Пессимисты",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": -1
                            },
                            {
                                "trait": "Против детей",
                                "weight": 1
                            },
                            {
                                "trait": "Ревнивый",
                                "weight": 1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Преданные семье",
                        "map": [
                            {
                                "trait": "Вечное дитя",
                                "weight": 1
                            },
                            {
                                "trait": "Против детей",
                                "weight": -1
                            },
                            {
                                "trait": "Семьянин",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Проказники",
                        "map": [
                            {
                                "trait": "Клептоман",
                                "weight": 1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Трудолюбивые",
                        "map": [
                            {
                                "trait": "Карьерист",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -1
                            },
                            {
                                "trait": "Неряха",
                                "weight": -1
                            },
                            {
                                "trait": "Перфекционист",
                                "weight": 1
                            },
                            {
                                "trait": "Чистюля",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Ценители природы",
                        "map": [
                            {
                                "trait": "Веган",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -1
                            },
                            {
                                "trait": "Любит природу",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Ценители романтики",
                        "map": [
                            {
                                "trait": "Непостоянный",
                                "weight": -1
                            },
                            {
                                "trait": "Романтик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Эгоисты",
                        "map": [
                            {
                                "trait": "Добрый",
                                "weight": -1
                            },
                            {
                                "trait": "Задира",
                                "weight": -1
                            },
                            {
                                "trait": "Практичный",
                                "weight": 1
                            },
                            {
                                "trait": "Сноб",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Энергичные",
                        "map": [
                            {
                                "trait": "Активный",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Юмористы",
                        "map": [
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Дружба - Темы разговора",
                "values": [
                    {
                        "value": "Глубокие мысли",
                        "map": [
                            {
                                "trait": "Вечное дитя",
                                "weight": -1
                            },
                            {
                                "trait": "Гений",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": 1
                            },
                            {
                                "trait": "Практичный",
                                "weight": 1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": -1
                            },
                            {
                                "trait": "Сноб",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Жалобы",
                        "map": [
                            {
                                "trait": "Весёлый",
                                "weight": -1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Истории",
                        "map": [
                            {
                                "trait": "Вечное дитя",
                                "weight": 1
                            },
                            {
                                "trait": "Книжный червь",
                                "weight": 1
                            },
                            {
                                "trait": "Неловк. в общ.",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Комплименты",
                        "map": [
                            {
                                "trait": "Добрый",
                                "weight": 1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": 1
                            },
                            {
                                "trait": "Задира",
                                "weight": -1
                            },
                            {
                                "trait": "Злой",
                                "weight": -1
                            },
                            {
                                "trait": "Неловк. в общ.",
                                "weight": -1
                            },
                            {
                                "trait": "Одиночка",
                                "weight": -1
                            },
                            {
                                "trait": "Параноик",
                                "weight": -1
                            },
                            {
                                "trait": "Самоуверенный",
                                "weight": 1
                            },
                            {
                                "trait": "Сноб",
                                "weight": 1
                            },
                            {
                                "trait": "Уважительный",
                                "weight": 1
                            },
                            {
                                "trait": "Эгоцентричный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Любовь",
                        "map": [
                            {
                                "trait": "Влюбчивый",
                                "weight": 1
                            },
                            {
                                "trait": "Добрый",
                                "weight": 1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": 1
                            },
                            {
                                "trait": "Недотрога",
                                "weight": -1
                            },
                            {
                                "trait": "Романтик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Нелепое поведение",
                        "map": [
                            {
                                "trait": "Безумный",
                                "weight": 1
                            },
                            {
                                "trait": "Вечное дитя",
                                "weight": 1
                            },
                            {
                                "trait": "Неловк. в общ.",
                                "weight": -1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            },
                            {
                                "trait": "Самоуверенный",
                                "weight": -1
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Непотребные шутки",
                        "map": [
                            {
                                "trait": "Неловк. в общ.",
                                "weight": -1
                            },
                            {
                                "trait": "Параноик",
                                "weight": -1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            },
                            {
                                "trait": "Самоуверенный",
                                "weight": -1
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Обман",
                        "map": [
                            {
                                "trait": "Добрый",
                                "weight": -1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": -1
                            },
                            {
                                "trait": "Клептоман",
                                "weight": 1
                            },
                            {
                                "trait": "Параноик",
                                "weight": -1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            },
                            {
                                "trait": "Холерик",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Обсуждение интересов",
                        "map": [
                            {
                                "trait": "Весёлый",
                                "weight": 1
                            },
                            {
                                "trait": "Гений",
                                "weight": 1
                            },
                            {
                                "trait": "Книжный червь",
                                "weight": 1
                            },
                            {
                                "trait": "Практичный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Обсуждение увлечений",
                        "map": [
                            {
                                "trait": "Весёлый",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -1
                            },
                            {
                                "trait": "Практичный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Плохие поступки",
                        "map": [
                            {
                                "trait": "Весёлый",
                                "weight": -1
                            },
                            {
                                "trait": "Вечное дитя",
                                "weight": -1
                            },
                            {
                                "trait": "Добрый",
                                "weight": -1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": -1
                            },
                            {
                                "trait": "Задира",
                                "weight": 1
                            },
                            {
                                "trait": "Злой",
                                "weight": 1
                            },
                            {
                                "trait": "Холерик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Светские беседы",
                        "map": [
                            {
                                "trait": "Вечное дитя",
                                "weight": -1
                            },
                            {
                                "trait": "Неловк. в общ.",
                                "weight": -1
                            },
                            {
                                "trait": "Одиночка",
                                "weight": -1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": -1
                            },
                            {
                                "trait": "Сноб",
                                "weight": 1
                            },
                            {
                                "trait": "Эгоцентричный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Сплетни",
                        "map": [
                            {
                                "trait": "Неловк. в общ.",
                                "weight": 1
                            },
                            {
                                "trait": "Одиночка",
                                "weight": -1
                            },
                            {
                                "trait": "Параноик",
                                "weight": 1
                            },
                            {
                                "trait": "Практичный",
                                "weight": -1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Ссоры",
                        "map": [
                            {
                                "trait": "Весёлый",
                                "weight": -1
                            },
                            {
                                "trait": "Вечное дитя",
                                "weight": -1
                            },
                            {
                                "trait": "Добрый",
                                "weight": -1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": -1
                            },
                            {
                                "trait": "Задира",
                                "weight": 1
                            },
                            {
                                "trait": "Злой",
                                "weight": 1
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            },
                            {
                                "trait": "Холерик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Физическая близость",
                        "map": [
                            {
                                "trait": "Влюбчивый",
                                "weight": 1
                            },
                            {
                                "trait": "Недотрога",
                                "weight": -1
                            },
                            {
                                "trait": "Романтик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Флирт",
                        "map": [
                            {
                                "trait": "Влюбчивый",
                                "weight": 1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": 1
                            },
                            {
                                "trait": "Недотрога",
                                "weight": -1
                            },
                            {
                                "trait": "Романтик",
                                "weight": 1
                            },
                            {
                                "trait": "Эгоцентричный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Шалости",
                        "map": [
                            {
                                "trait": "Вечное дитя",
                                "weight": 1
                            },
                            {
                                "trait": "Одиночка",
                                "weight": -1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -1
                            },
                            {
                                "trait": "Холерик",
                                "weight": -1
                            },
                            {
                                "trait": "Эгоцентричный",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Шутки",
                        "map": [
                            {
                                "trait": "Весёлый",
                                "weight": 1
                            },
                            {
                                "trait": "Вечное дитя",
                                "weight": 1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": 1
                            },
                            {
                                "trait": "Неловк. в общ.",
                                "weight": -1
                            },
                            {
                                "trait": "Параноик",
                                "weight": -1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Любовь - Характер",
                "values": [
                    {
                        "value": "Бойкость",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": 1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": 1
                            },
                            {
                                "trait": "Душа компании",
                                "weight": 1
                            },
                            {
                                "trait": "Инсайдер",
                                "weight": 1
                            },
                            {
                                "trait": "Недотрога",
                                "weight": -1
                            },
                            {
                                "trait": "Нелов. В общении",
                                "weight": -2
                            },
                            {
                                "trait": "Одиночка",
                                "weight": -2
                            },
                            {
                                "trait": "Параноик",
                                "weight": -1
                            },
                            {
                                "trait": "Романтик",
                                "weight": 1
                            },
                            {
                                "trait": "Самоуверенный",
                                "weight": 1
                            },
                            {
                                "trait": "Свой в доску",
                                "weight": 1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -2
                            },
                            {
                                "trait": "Холерик",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Веселый характер",
                        "map": [
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Домоседство",
                        "map": [
                            {
                                "trait": "Активный",
                                "weight": -1
                            },
                            {
                                "trait": "Гик",
                                "weight": 1
                            },
                            {
                                "trait": "Достигатор",
                                "weight": -1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": -2
                            },
                            {
                                "trait": "Душа компании",
                                "weight": -2
                            },
                            {
                                "trait": "Инсайдер",
                                "weight": -1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": -1
                            },
                            {
                                "trait": "Книжный червь",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": 1
                            },
                            {
                                "trait": "Нелов. В общении",
                                "weight": 1
                            },
                            {
                                "trait": "Неуклюжий",
                                "weight": 1
                            },
                            {
                                "trait": "Одиночка",
                                "weight": 1
                            },
                            {
                                "trait": "Отважный",
                                "weight": -1
                            },
                            {
                                "trait": "Чистюля",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Идеализм",
                        "map": [
                            {
                                "trait": "Искусствовед",
                                "weight": 1
                            },
                            {
                                "trait": "Меломан",
                                "weight": 1
                            },
                            {
                                "trait": "Творец",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Интеллектуалы",
                        "map": [
                            {
                                "trait": "Гений",
                                "weight": 1
                            },
                            {
                                "trait": "Гик",
                                "weight": 1
                            },
                            {
                                "trait": "Книжный червь",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Карьерн. Амбиции",
                        "map": [
                            {
                                "trait": "Достигатор",
                                "weight": 1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -2
                            },
                            {
                                "trait": "Фриган",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Любовь к питомцам",
                        "map": [
                            {
                                "trait": "Любит кошек",
                                "weight": 1
                            },
                            {
                                "trait": "Любит собак",
                                "weight": 1
                            },
                            {
                                "trait": "Любовь к животным",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Любовь к природе",
                        "map": [
                            {
                                "trait": "Веган",
                                "weight": 1
                            },
                            {
                                "trait": "Дитя океана",
                                "weight": 1
                            },
                            {
                                "trait": "Дитя острова",
                                "weight": 1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": -1
                            },
                            {
                                "trait": "Любит природу",
                                "weight": 1
                            },
                            {
                                "trait": "Переработчик",
                                "weight": 1
                            },
                            {
                                "trait": "Привереда",
                                "weight": -2
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            },
                            {
                                "trait": "Фриган",
                                "weight": 1
                            },
                            {
                                "trait": "Экоэнтузиаст",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Любовь к спорам",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": -1
                            },
                            {
                                "trait": "Вечное дитя",
                                "weight": -1
                            },
                            {
                                "trait": "Добрый",
                                "weight": -2
                            },
                            {
                                "trait": "Задира",
                                "weight": 1
                            },
                            {
                                "trait": "Злой",
                                "weight": 1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -1
                            },
                            {
                                "trait": "Холерик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Любовь к чистоте",
                        "map": [
                            {
                                "trait": "Лежебока",
                                "weight": -1
                            },
                            {
                                "trait": "Любит природу",
                                "weight": -1
                            },
                            {
                                "trait": "Неряха",
                                "weight": -2
                            },
                            {
                                "trait": "Обжора",
                                "weight": -1
                            },
                            {
                                "trait": "Привереда",
                                "weight": 1
                            },
                            {
                                "trait": "Фриган",
                                "weight": -1
                            },
                            {
                                "trait": "Чистюля",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Неаккуратность",
                        "map": [
                            {
                                "trait": "Неряха",
                                "weight": 1
                            },
                            {
                                "trait": "Обжора",
                                "weight": 1
                            },
                            {
                                "trait": "Привереда",
                                "weight": -2
                            },
                            {
                                "trait": "Чистюля",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Оптимизм",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": 1
                            },
                            {
                                "trait": "Добрый",
                                "weight": 1
                            },
                            {
                                "trait": "Задира",
                                "weight": -1
                            },
                            {
                                "trait": "Злой",
                                "weight": -1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -1
                            },
                            {
                                "trait": "Холерик",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Отсутств. Амбиций",
                        "map": [
                            {
                                "trait": "Активный",
                                "weight": -1
                            },
                            {
                                "trait": "Достигатор",
                                "weight": -1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": -1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": 1
                            },
                            {
                                "trait": "Неряха",
                                "weight": 1
                            },
                            {
                                "trait": "Отважный",
                                "weight": -1
                            },
                            {
                                "trait": "Привереда",
                                "weight": -1
                            },
                            {
                                "trait": "Чистюля",
                                "weight": -2
                            }
                        ]
                    },
                    {
                        "value": "Пессимизм",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": -1
                            },
                            {
                                "trait": "Вечное дитя",
                                "weight": -2
                            },
                            {
                                "trait": "Добрый",
                                "weight": -1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": -1
                            },
                            {
                                "trait": "Душа компании",
                                "weight": -1
                            },
                            {
                                "trait": "Злой",
                                "weight": 1
                            },
                            {
                                "trait": "Недотрога",
                                "weight": 1
                            },
                            {
                                "trait": "Непостоянный",
                                "weight": 1
                            },
                            {
                                "trait": "Параноик",
                                "weight": 1
                            },
                            {
                                "trait": "Преданный",
                                "weight": -1
                            },
                            {
                                "trait": "Против детей",
                                "weight": 1
                            },
                            {
                                "trait": "Ревнивый",
                                "weight": 1
                            },
                            {
                                "trait": "Романтик",
                                "weight": -1
                            },
                            {
                                "trait": "Семьянин",
                                "weight": -2
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": 1
                            },
                            {
                                "trait": "Холерик",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Подв. Влиян. Эмоц.",
                        "map": [
                            {
                                "trait": "Безумный",
                                "weight": 1
                            },
                            {
                                "trait": "Веселый",
                                "weight": -1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": -1
                            },
                            {
                                "trait": "Непостоянный",
                                "weight": 1
                            },
                            {
                                "trait": "Параноик",
                                "weight": 1
                            },
                            {
                                "trait": "Преданный",
                                "weight": -1
                            },
                            {
                                "trait": "Семьянин",
                                "weight": -1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -1
                            },
                            {
                                "trait": "Холерик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Семейн. Ценности",
                        "map": [
                            {
                                "trait": "Вечное дитя",
                                "weight": 1
                            },
                            {
                                "trait": "Злой",
                                "weight": -1
                            },
                            {
                                "trait": "Непостоянный",
                                "weight": -2
                            },
                            {
                                "trait": "Преданный",
                                "weight": 1
                            },
                            {
                                "trait": "Против детей",
                                "weight": -2
                            },
                            {
                                "trait": "Семьянин",
                                "weight": 1
                            },
                            {
                                "trait": "Сноб",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Трудолюбие",
                        "map": [
                            {
                                "trait": "Достигатор",
                                "weight": 1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -3
                            },
                            {
                                "trait": "Неряха",
                                "weight": -1
                            },
                            {
                                "trait": "Перфекционист",
                                "weight": 1
                            },
                            {
                                "trait": "Фриган",
                                "weight": -1
                            },
                            {
                                "trait": "Чистюля",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Эгоизм",
                        "map": [
                            {
                                "trait": "Вечное дитя",
                                "weight": -1
                            },
                            {
                                "trait": "Высокие запросы",
                                "weight": 1
                            },
                            {
                                "trait": "Практичный",
                                "weight": 1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": -1
                            },
                            {
                                "trait": "Сноб",
                                "weight": 1
                            },
                            {
                                "trait": "Фриган",
                                "weight": -1
                            },
                            {
                                "trait": "Эгоцентричный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Энергичность",
                        "map": [
                            {
                                "trait": "Активный",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -2
                            },
                            {
                                "trait": "Отважный",
                                "weight": 1
                            },
                            {
                                "trait": "Танцмашина",
                                "weight": 1
                            }
                        ]
                    }
                ]
            },
            {
                "name": "Любовь - Навыки",
                "values": [
                    {
                        "value": "Бедность",
                        "map": [
                            {
                                "trait": "Достигатор",
                                "weight": -1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": -1
                            },
                            {
                                "trait": "Практичный",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Богатство",
                        "map": [
                            {
                                "trait": "Достигатор",
                                "weight": 1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": 1
                            },
                            {
                                "trait": "Практичный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "В отношениях",
                        "map": [
                            {
                                "trait": "Непостоянный",
                                "weight": 1
                            },
                            {
                                "trait": "Параноик",
                                "weight": -1
                            },
                            {
                                "trait": "Преданный",
                                "weight": -1
                            },
                            {
                                "trait": "Семьянин",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Выступления на сцене",
                        "map": [
                            {
                                "trait": "Меломан",
                                "weight": 1
                            },
                            {
                                "trait": "Танцмашина",
                                "weight": 1
                            },
                            {
                                "trait": "Творец",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Здоровье и спорт",
                        "map": [
                            {
                                "trait": "Активный",
                                "weight": 1
                            },
                            {
                                "trait": "Высокие запросы",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -1
                            },
                            {
                                "trait": "Отважный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Инженерное дело",
                        "map": [
                            {
                                "trait": "Умелец",
                                "weight": 1
                            },
                            {
                                "trait": "Фриган",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Карьерные достиж.",
                        "map": [
                            {
                                "trait": "Гений",
                                "weight": 1
                            },
                            {
                                "trait": "Достигатор",
                                "weight": 1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -1
                            },
                            {
                                "trait": "Практичный",
                                "weight": 1
                            },
                            {
                                "trait": "Фриган",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Кулинария",
                        "map": [
                            {
                                "trait": "Гурман",
                                "weight": 1
                            },
                            {
                                "trait": "Обжора",
                                "weight": 1
                            },
                            {
                                "trait": "Привереда",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Лень",
                        "map": [
                            {
                                "trait": "Активный",
                                "weight": -1
                            },
                            {
                                "trait": "Высокие запросы",
                                "weight": -1
                            },
                            {
                                "trait": "Гений",
                                "weight": -1
                            },
                            {
                                "trait": "Достигатор",
                                "weight": -1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": -1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": 1
                            },
                            {
                                "trait": "Отважный",
                                "weight": -1
                            },
                            {
                                "trait": "Практичный",
                                "weight": -1
                            },
                            {
                                "trait": "Умелец",
                                "weight": -1
                            },
                            {
                                "trait": "Чистюля",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Межлич. общение",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": 1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": 1
                            },
                            {
                                "trait": "Инсайдер",
                                "weight": 1
                            },
                            {
                                "trait": "Неловк. в общ.",
                                "weight": -1
                            },
                            {
                                "trait": "Одиночка",
                                "weight": -1
                            },
                            {
                                "trait": "Параноик",
                                "weight": -1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -1
                            }
                        ]
                    },
                    {
                        "value": "Мультимед. И тех.",
                        "map": [
                            {
                                "trait": "Вечное дитя",
                                "weight": 1
                            },
                            {
                                "trait": "Гик",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Наука",
                        "map": [
                            {
                                "trait": "Гений",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Приготов. Напитков",
                        "map": [
                            {
                                "trait": "Гурман",
                                "weight": 1
                            },
                            {
                                "trait": "Обжора",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Природа",
                        "map": [
                            {
                                "trait": "Веган",
                                "weight": 1
                            },
                            {
                                "trait": "Любит природу",
                                "weight": 1
                            },
                            {
                                "trait": "Привереда",
                                "weight": -1
                            },
                            {
                                "trait": "Чистюля",
                                "weight": -1
                            },
                            {
                                "trait": "Экоэнтузиаст",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Развитые навыки",
                        "map": [
                            {
                                "trait": "Гений",
                                "weight": 1
                            },
                            {
                                "trait": "Достигатор",
                                "weight": 1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": 1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": -1
                            },
                            {
                                "trait": "Практичный",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Творчество и рукодел.",
                        "map": [
                            {
                                "trait": "Искусствовед",
                                "weight": 1
                            },
                            {
                                "trait": "Творец",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Фриланс",
                        "map": [
                            {
                                "trait": "Достигатор",
                                "weight": -1
                            },
                            {
                                "trait": "Карьерист",
                                "weight": -1
                            },
                            {
                                "trait": "Лежебока",
                                "weight": 1
                            },
                            {
                                "trait": "Практичный",
                                "weight": -1
                            },
                            {
                                "trait": "Фриган",
                                "weight": 1
                            }
                        ]
                    },
                    {
                        "value": "Чувство юмора",
                        "map": [
                            {
                                "trait": "Веселый",
                                "weight": 1
                            },
                            {
                                "trait": "Вечное дитя",
                                "weight": 1
                            },
                            {
                                "trait": "Дружелюбный",
                                "weight": 1
                            },
                            {
                                "trait": "Инсайдер",
                                "weight": 1
                            },
                            {
                                "trait": "Неловк. в общ.",
                                "weight": -1
                            },
                            {
                                "trait": "Одиночка",
                                "weight": -1
                            },
                            {
                                "trait": "Параноик",
                                "weight": -1
                            },
                            {
                                "trait": "Растяпа",
                                "weight": 1
                            },
                            {
                                "trait": "Угрюмый",
                                "weight": -1
                            }
                        ]
                    }
                ]
            }
        ],
        "compatibility": [
            {
                "value": "Активный",
                "map": [
                    {
                        "trait": "Активный",
                        "weight": 1
                    },
                    {
                        "trait": "Отважный",
                        "weight": 1
                    },
                    {
                        "trait": "Танцмашина",
                        "weight": 1
                    },
                    {
                        "trait": "Гик",
                        "weight": -1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -2
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": -1
                    },
                    {
                        "trait": "Неряха",
                        "weight": -1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": -1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Безумный",
                "map": [
                    {
                        "trait": "Безумный",
                        "weight": 1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": 1
                    },
                    {
                        "trait": "Параноик",
                        "weight": 1
                    },
                    {
                        "trait": "Холерик",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Веган",
                "map": [
                    {
                        "trait": "Любит природу",
                        "weight": 1
                    },
                    {
                        "trait": "Веган",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": 1
                    },
                    {
                        "trait": "Фриган",
                        "weight": 1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": 1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Веселый",
                "map": [
                    {
                        "trait": "Веселый",
                        "weight": 1
                    },
                    {
                        "trait": "Добрый",
                        "weight": 1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": 1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": 1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": 1
                    },
                    {
                        "trait": "Карьерист",
                        "weight": 1
                    },
                    {
                        "trait": "Романтик",
                        "weight": 1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": 1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": 1
                    },
                    {
                        "trait": "Задира",
                        "weight": -1
                    },
                    {
                        "trait": "Злой",
                        "weight": -2
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": -1
                    },
                    {
                        "trait": "Параноик",
                        "weight": -1
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    },
                    {
                        "trait": "Холерик",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Вечное дитя",
                "map": [
                    {
                        "trait": "Вечное дитя",
                        "weight": 1
                    },
                    {
                        "trait": "Преданность",
                        "weight": 1
                    },
                    {
                        "trait": "Семьянин",
                        "weight": 1
                    },
                    {
                        "trait": "Высокие запросы",
                        "weight": -1
                    },
                    {
                        "trait": "Задира",
                        "weight": -1
                    },
                    {
                        "trait": "Злой",
                        "weight": -2
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": -1
                    },
                    {
                        "trait": "Параноик",
                        "weight": -1
                    },
                    {
                        "trait": "Практичный",
                        "weight": -1
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Сноб",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    },
                    {
                        "trait": "Холерик",
                        "weight": -1
                    },
                    {
                        "trait": "Эгоцентричный",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Высокие запросы",
                "map": [
                    {
                        "trait": "Высокие запросы",
                        "weight": 1
                    },
                    {
                        "trait": "Практичный",
                        "weight": 1
                    },
                    {
                        "trait": "Сноб",
                        "weight": 1
                    },
                    {
                        "trait": "Эгоцентричный",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Гений",
                "map": [
                    {
                        "trait": "Гений",
                        "weight": 1
                    },
                    {
                        "trait": "Гик",
                        "weight": 1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Гик",
                "map": [
                    {
                        "trait": "Гений",
                        "weight": 1
                    },
                    {
                        "trait": "Гик",
                        "weight": 2
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": 1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": 1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": 1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": 1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Дитя океана",
                "map": [
                    {
                        "trait": "Любит природу",
                        "weight": 1
                    },
                    {
                        "trait": "Веган",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": 1
                    },
                    {
                        "trait": "Фриган",
                        "weight": 1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": 1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Дитя острова",
                "map": [
                    {
                        "trait": "Любит природу",
                        "weight": 1
                    },
                    {
                        "trait": "Веган",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": 1
                    },
                    {
                        "trait": "Фриган",
                        "weight": 1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": 1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Добрый",
                "map": [
                    {
                        "trait": "Веселый",
                        "weight": 1
                    },
                    {
                        "trait": "Добрый",
                        "weight": 1
                    },
                    {
                        "trait": "Кариерист",
                        "weight": 1
                    },
                    {
                        "trait": "Задира",
                        "weight": -1
                    },
                    {
                        "trait": "Злой",
                        "weight": -2
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": -1
                    },
                    {
                        "trait": "Параноик",
                        "weight": -1
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    },
                    {
                        "trait": "Холерик",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Достигатор",
                "map": [
                    {
                        "trait": "Достигатор",
                        "weight": 2
                    },
                    {
                        "trait": "Карьерист",
                        "weight": 2
                    },
                    {
                        "trait": "Перфекционист",
                        "weight": 1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": 1
                    },
                    {
                        "trait": "Гик",
                        "weight": -1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -2
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": -1
                    },
                    {
                        "trait": "Неряха",
                        "weight": -1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": -1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Дружелюбный",
                "map": [
                    {
                        "trait": "Веселый",
                        "weight": 1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": 1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": 1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": 1
                    },
                    {
                        "trait": "Романтик",
                        "weight": 1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": 1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": 1
                    },
                    {
                        "trait": "Безумный",
                        "weight": -1
                    },
                    {
                        "trait": "Гик",
                        "weight": -1
                    },
                    {
                        "trait": "Злой",
                        "weight": -1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": -1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": -2
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": -1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": -1
                    },
                    {
                        "trait": "Параноик",
                        "weight": -2
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    },
                    {
                        "trait": "Холерик",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Душа компании",
                "map": [
                    {
                        "trait": "Веселый",
                        "weight": 1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": 1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": 1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": 1
                    },
                    {
                        "trait": "Романтик",
                        "weight": 1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": 1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": 1
                    },
                    {
                        "trait": "Гик",
                        "weight": -1
                    },
                    {
                        "trait": "Злой",
                        "weight": -1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": -1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": -1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": -1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": -1
                    },
                    {
                        "trait": "Параноик",
                        "weight": -1
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Задира",
                "map": [
                    {
                        "trait": "Задира",
                        "weight": 1
                    },
                    {
                        "trait": "Злой",
                        "weight": 1
                    },
                    {
                        "trait": "Холерик",
                        "weight": 1
                    },
                    {
                        "trait": "Веселый",
                        "weight": -1
                    },
                    {
                        "trait": "Добрый",
                        "weight": -1
                    },
                    {
                        "trait": "Кариерист",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Злой",
                "map": [
                    {
                        "trait": "Задира",
                        "weight": 1
                    },
                    {
                        "trait": "Злой",
                        "weight": 2
                    },
                    {
                        "trait": "Недотрога",
                        "weight": 1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": 1
                    },
                    {
                        "trait": "Параноик",
                        "weight": 1
                    },
                    {
                        "trait": "Против детей",
                        "weight": 1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": 1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": 1
                    },
                    {
                        "trait": "Холерик",
                        "weight": 1
                    },
                    {
                        "trait": "Веселый",
                        "weight": -1
                    },
                    {
                        "trait": "Вечное дитя",
                        "weight": -1
                    },
                    {
                        "trait": "Добрый",
                        "weight": -1
                    },
                    {
                        "trait": "Кариерист",
                        "weight": -1
                    },
                    {
                        "trait": "Преданность",
                        "weight": -1
                    },
                    {
                        "trait": "Семьянин",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Инсайдер",
                "map": [
                    {
                        "trait": "Веселый",
                        "weight": 1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": 1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": 1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": 1
                    },
                    {
                        "trait": "Романтик",
                        "weight": 1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": 1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": 1
                    },
                    {
                        "trait": "Гик",
                        "weight": -1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": -1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": -1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Искусствовед",
                "map": [
                    {
                        "trait": "Искусствовед",
                        "weight": 1
                    },
                    {
                        "trait": "Меломан",
                        "weight": 1
                    },
                    {
                        "trait": "Творец",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Карьерист",
                "map": [
                    {
                        "trait": "Достигатор",
                        "weight": 2
                    },
                    {
                        "trait": "Карьерист",
                        "weight": 2
                    },
                    {
                        "trait": "Перфекционист",
                        "weight": 1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": 1
                    },
                    {
                        "trait": "Веган",
                        "weight": -1
                    },
                    {
                        "trait": "Гик",
                        "weight": -1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": -1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": -1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -2
                    },
                    {
                        "trait": "Любит природу",
                        "weight": -1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": -1
                    },
                    {
                        "trait": "Неряха",
                        "weight": -1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": -1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": -1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": -1
                    },
                    {
                        "trait": "Фриган",
                        "weight": -1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Книжный червь",
                "map": [
                    {
                        "trait": "Гений",
                        "weight": 1
                    },
                    {
                        "trait": "Гик",
                        "weight": 2
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": 2
                    },
                    {
                        "trait": "Лежебока",
                        "weight": 1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": 1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": 1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Лежебока",
                "map": [
                    {
                        "trait": "Гик",
                        "weight": 1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": 1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": 2
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": 1
                    },
                    {
                        "trait": "Неряха",
                        "weight": 1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": 1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": 1
                    },
                    {
                        "trait": "Активный",
                        "weight": -1
                    },
                    {
                        "trait": "Достигатор",
                        "weight": -2
                    },
                    {
                        "trait": "Карьерист",
                        "weight": -2
                    },
                    {
                        "trait": "Отважный",
                        "weight": -1
                    },
                    {
                        "trait": "Перфекционист",
                        "weight": -1
                    },
                    {
                        "trait": "Привереда",
                        "weight": -1
                    },
                    {
                        "trait": "Танцмашина",
                        "weight": -1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": -2
                    }
                ]
            },
            {
                "value": "Любит кошек",
                "map": [
                    {
                        "trait": "Любит кошек",
                        "weight": 1
                    },
                    {
                        "trait": "Любит собак",
                        "weight": 1
                    },
                    {
                        "trait": "Любовь к животным",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Любит природу",
                "map": [
                    {
                        "trait": "Любит природу",
                        "weight": 1
                    },
                    {
                        "trait": "Веган",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": 1
                    },
                    {
                        "trait": "Фриган",
                        "weight": 1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": 1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": 1
                    },
                    {
                        "trait": "Привереда",
                        "weight": -1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Любит собак",
                "map": [
                    {
                        "trait": "Любит кошек",
                        "weight": 1
                    },
                    {
                        "trait": "Любит собак",
                        "weight": 1
                    },
                    {
                        "trait": "Любовь к животным",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Любовь к животным",
                "map": [
                    {
                        "trait": "Любит кошек",
                        "weight": 1
                    },
                    {
                        "trait": "Любит собак",
                        "weight": 1
                    },
                    {
                        "trait": "Любовь к животным",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Меломан",
                "map": [
                    {
                        "trait": "Искусствовед",
                        "weight": 1
                    },
                    {
                        "trait": "Меломан",
                        "weight": 1
                    },
                    {
                        "trait": "Творец",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Недотрога",
                "map": [
                    {
                        "trait": "Злой",
                        "weight": 1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": 1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": 1
                    },
                    {
                        "trait": "Параноик",
                        "weight": 1
                    },
                    {
                        "trait": "Против детей",
                        "weight": 1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": 1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": 1
                    },
                    {
                        "trait": "Веселый",
                        "weight": -1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": -1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": -1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": -1
                    },
                    {
                        "trait": "Романтик",
                        "weight": -1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": -1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Неловкий в общении",
                "map": [
                    {
                        "trait": "Гик",
                        "weight": 1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": 1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": 1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": 1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": 1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": 1
                    },
                    {
                        "trait": "Веселый",
                        "weight": -1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": -1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": -1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": -1
                    },
                    {
                        "trait": "Романтик",
                        "weight": -1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": -1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Непостоянный",
                "map": [
                    {
                        "trait": "Безумный",
                        "weight": 1
                    },
                    {
                        "trait": "Злой",
                        "weight": 1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": 1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": 2
                    },
                    {
                        "trait": "Параноик",
                        "weight": 2
                    },
                    {
                        "trait": "Против детей",
                        "weight": 1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": 1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": 1
                    },
                    {
                        "trait": "Холерик",
                        "weight": 1
                    },
                    {
                        "trait": "Вечное дитя",
                        "weight": -1
                    },
                    {
                        "trait": "Преданность",
                        "weight": -1
                    },
                    {
                        "trait": "Семьянин",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Неряха",
                "map": [
                    {
                        "trait": "Лежебока",
                        "weight": 1
                    },
                    {
                        "trait": "Неряха",
                        "weight": 2
                    },
                    {
                        "trait": "Обжора",
                        "weight": 1
                    },
                    {
                        "trait": "Достигатор",
                        "weight": -1
                    },
                    {
                        "trait": "Карьерист",
                        "weight": -1
                    },
                    {
                        "trait": "Перфекционист",
                        "weight": -1
                    },
                    {
                        "trait": "Привереда",
                        "weight": -1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": -2
                    }
                ]
            },
            {
                "value": "Неуклюжий",
                "map": [
                    {
                        "trait": "Гик",
                        "weight": 1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": 1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": 1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": 1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": 1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Обжора",
                "map": [
                    {
                        "trait": "Неряха",
                        "weight": 1
                    },
                    {
                        "trait": "Обжора",
                        "weight": 1
                    },
                    {
                        "trait": "Привереда",
                        "weight": -1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Одиночка",
                "map": [
                    {
                        "trait": "Гик",
                        "weight": 1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": 1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": 1
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": 1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": 1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": 1
                    },
                    {
                        "trait": "Веселый",
                        "weight": -1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": -1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": -1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": -1
                    },
                    {
                        "trait": "Романтик",
                        "weight": -1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": -1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Отважный",
                "map": [
                    {
                        "trait": "Активный",
                        "weight": 1
                    },
                    {
                        "trait": "Отважный",
                        "weight": 1
                    },
                    {
                        "trait": "Танцмашина",
                        "weight": 1
                    },
                    {
                        "trait": "Гик",
                        "weight": -1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -2
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": -1
                    },
                    {
                        "trait": "Неряха",
                        "weight": -1
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": -1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Параноик",
                "map": [
                    {
                        "trait": "Безумный",
                        "weight": 1
                    },
                    {
                        "trait": "Злой",
                        "weight": 1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": 1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": 2
                    },
                    {
                        "trait": "Параноик",
                        "weight": 2
                    },
                    {
                        "trait": "Против детей",
                        "weight": 1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": 1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": 1
                    },
                    {
                        "trait": "Холерик",
                        "weight": 1
                    },
                    {
                        "trait": "Веселый",
                        "weight": -1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": -1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": -1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": -1
                    },
                    {
                        "trait": "Романтик",
                        "weight": -1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": -1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Переработчик",
                "map": [
                    {
                        "trait": "Веган",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": 1
                    },
                    {
                        "trait": "Любит природу",
                        "weight": 1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": 1
                    },
                    {
                        "trait": "Фриган",
                        "weight": 1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Перфекционист",
                "map": [
                    {
                        "trait": "Достигатор",
                        "weight": 1
                    },
                    {
                        "trait": "Карьерист",
                        "weight": 1
                    },
                    {
                        "trait": "Перфекционист",
                        "weight": 1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Практичный",
                "map": [
                    {
                        "trait": "Высокие запросы",
                        "weight": 1
                    },
                    {
                        "trait": "Практичный",
                        "weight": 1
                    },
                    {
                        "trait": "Сноб",
                        "weight": 1
                    },
                    {
                        "trait": "Эгоцентричный",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Преданный",
                "map": [
                    {
                        "trait": "Вечное дитя",
                        "weight": 1
                    },
                    {
                        "trait": "Преданность",
                        "weight": 1
                    },
                    {
                        "trait": "Семьянин",
                        "weight": 1
                    },
                    {
                        "trait": "Безумный",
                        "weight": -1
                    },
                    {
                        "trait": "Злой",
                        "weight": -1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": -2
                    },
                    {
                        "trait": "Параноик",
                        "weight": -2
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    },
                    {
                        "trait": "Холерик",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Привереда",
                "map": [
                    {
                        "trait": "Привереда",
                        "weight": 1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": 1
                    },
                    {
                        "trait": "Веган",
                        "weight": -1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": -1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -1
                    },
                    {
                        "trait": "Любит природу",
                        "weight": -1
                    },
                    {
                        "trait": "Неряха",
                        "weight": -2
                    },
                    {
                        "trait": "Обжора",
                        "weight": -1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": -1
                    },
                    {
                        "trait": "Фриган",
                        "weight": -1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Против детей",
                "map": [
                    {
                        "trait": "Злой",
                        "weight": 1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": 1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": 1
                    },
                    {
                        "trait": "Параноик",
                        "weight": 1
                    },
                    {
                        "trait": "Против детей",
                        "weight": 1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": 1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": 1
                    },
                    {
                        "trait": "Вечное дитя",
                        "weight": -1
                    },
                    {
                        "trait": "Преданность",
                        "weight": -1
                    },
                    {
                        "trait": "Семьянин",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Растяпа",
                "map": [
                    {
                        "trait": "Растяпа",
                        "weight": 1
                    },
                    {
                        "trait": "Высокие запросы",
                        "weight": -1
                    },
                    {
                        "trait": "Практичный",
                        "weight": -1
                    },
                    {
                        "trait": "Сноб",
                        "weight": -1
                    },
                    {
                        "trait": "Эгоцентричный",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Ревнивый",
                "map": [
                    {
                        "trait": "Злой",
                        "weight": 1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": 1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": 1
                    },
                    {
                        "trait": "Параноик",
                        "weight": 1
                    },
                    {
                        "trait": "Против детей",
                        "weight": 1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": 1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Романтик",
                "map": [
                    {
                        "trait": "Веселый",
                        "weight": 1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": 1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": 1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": 1
                    },
                    {
                        "trait": "Романтик",
                        "weight": 1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": 1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": 1
                    },
                    {
                        "trait": "Злой",
                        "weight": -1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": -1
                    },
                    {
                        "trait": "Параноик",
                        "weight": -1
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Самоуверенный",
                "map": [
                    {
                        "trait": "Веселый",
                        "weight": 1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": 1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": 1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": 1
                    },
                    {
                        "trait": "Романтик",
                        "weight": 1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": 1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Свой в доску",
                "map": [
                    {
                        "trait": "Веселый",
                        "weight": 1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": 1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": 1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": 1
                    },
                    {
                        "trait": "Романтик",
                        "weight": 1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": 1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Семьянин",
                "map": [
                    {
                        "trait": "Вечное дитя",
                        "weight": 1
                    },
                    {
                        "trait": "Преданность",
                        "weight": 1
                    },
                    {
                        "trait": "Семьянин",
                        "weight": 1
                    },
                    {
                        "trait": "Безумный",
                        "weight": -1
                    },
                    {
                        "trait": "Злой",
                        "weight": -1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Непостоянный",
                        "weight": -2
                    },
                    {
                        "trait": "Параноик",
                        "weight": -2
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    },
                    {
                        "trait": "Холерик",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Сноб",
                "map": [
                    {
                        "trait": "Высокие запросы",
                        "weight": 1
                    },
                    {
                        "trait": "Практичный",
                        "weight": 1
                    },
                    {
                        "trait": "Сноб",
                        "weight": 1
                    },
                    {
                        "trait": "Эгоцентричный",
                        "weight": 1
                    },
                    {
                        "trait": "Растяпа",
                        "weight": -1
                    },
                    {
                        "trait": "Веган",
                        "weight": -1
                    },
                    {
                        "trait": "Вечное дитя",
                        "weight": -1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": -1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": -1
                    },
                    {
                        "trait": "Любит природу",
                        "weight": -1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": -1
                    },
                    {
                        "trait": "Преданность",
                        "weight": -1
                    },
                    {
                        "trait": "Семьянин",
                        "weight": -1
                    },
                    {
                        "trait": "Фриган",
                        "weight": -1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Танцмашина",
                "map": [
                    {
                        "trait": "Активный",
                        "weight": 1
                    },
                    {
                        "trait": "Отважный",
                        "weight": 1
                    },
                    {
                        "trait": "Танцмашина",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Творец",
                "map": [
                    {
                        "trait": "Искусствовед",
                        "weight": 1
                    },
                    {
                        "trait": "Меломан",
                        "weight": 1
                    },
                    {
                        "trait": "Творец",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Угрюмый",
                "map": [
                    {
                        "trait": "Недотрога",
                        "weight": 1
                    },
                    {
                        "trait": "Против детей",
                        "weight": 1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": 1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": 1
                    },
                    {
                        "trait": "Безумный",
                        "weight": -1
                    },
                    {
                        "trait": "Веселый",
                        "weight": -2
                    },
                    {
                        "trait": "Добрый",
                        "weight": -1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": -1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": -1
                    },
                    {
                        "trait": "Задира",
                        "weight": -1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": -1
                    },
                    {
                        "trait": "Кариерист",
                        "weight": -1
                    },
                    {
                        "trait": "Романтик",
                        "weight": -1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": -1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": -1
                    },
                    {
                        "trait": "Холерик",
                        "weight": -2
                    }
                ]
            },
            {
                "value": "Фриган",
                "map": [
                    {
                        "trait": "Веган",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": 1
                    },
                    {
                        "trait": "Любит природу",
                        "weight": 1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": 1
                    },
                    {
                        "trait": "Фриган",
                        "weight": 1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": 1
                    },
                    {
                        "trait": "Высокие запросы",
                        "weight": -1
                    },
                    {
                        "trait": "Достигатор",
                        "weight": -2
                    },
                    {
                        "trait": "Карьерист",
                        "weight": -2
                    },
                    {
                        "trait": "Перфекционист",
                        "weight": -1
                    },
                    {
                        "trait": "Практичный",
                        "weight": -1
                    },
                    {
                        "trait": "Привереда",
                        "weight": -1
                    },
                    {
                        "trait": "Сноб",
                        "weight": -1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": -2
                    },
                    {
                        "trait": "Эгоцентричный",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Холерик",
                "map": [
                    {
                        "trait": "Безумный",
                        "weight": 1
                    },
                    {
                        "trait": "Задира",
                        "weight": 1
                    },
                    {
                        "trait": "Злой",
                        "weight": 1
                    },
                    {
                        "trait": "Холерик",
                        "weight": 2
                    },
                    {
                        "trait": "Веселый",
                        "weight": -2
                    },
                    {
                        "trait": "Добрый",
                        "weight": -1
                    },
                    {
                        "trait": "Дружелюбный",
                        "weight": -1
                    },
                    {
                        "trait": "Душа компании",
                        "weight": -1
                    },
                    {
                        "trait": "Злой",
                        "weight": -1
                    },
                    {
                        "trait": "Инсайдер",
                        "weight": -1
                    },
                    {
                        "trait": "Кариерист",
                        "weight": -1
                    },
                    {
                        "trait": "Недотрога",
                        "weight": -1
                    },
                    {
                        "trait": "Против детей",
                        "weight": -1
                    },
                    {
                        "trait": "Ревнивый",
                        "weight": -1
                    },
                    {
                        "trait": "Романтик",
                        "weight": -1
                    },
                    {
                        "trait": "Самоуверенный",
                        "weight": -1
                    },
                    {
                        "trait": "Свой в доску",
                        "weight": -1
                    },
                    {
                        "trait": "Угрюмый",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Чистюля",
                "map": [
                    {
                        "trait": "Достигатор",
                        "weight": 1
                    },
                    {
                        "trait": "Карьерист",
                        "weight": 1
                    },
                    {
                        "trait": "Перфекционист",
                        "weight": 1
                    },
                    {
                        "trait": "Привереда",
                        "weight": 1
                    },
                    {
                        "trait": "Чистюля",
                        "weight": 2
                    },
                    {
                        "trait": "Гик",
                        "weight": -1
                    },
                    {
                        "trait": "Книжный червь",
                        "weight": -1
                    },
                    {
                        "trait": "Лежебока",
                        "weight": -2
                    },
                    {
                        "trait": "Неловкий в общении",
                        "weight": -1
                    },
                    {
                        "trait": "Неряха",
                        "weight": -2
                    },
                    {
                        "trait": "Неуклюжий",
                        "weight": -1
                    },
                    {
                        "trait": "Обжора",
                        "weight": -1
                    },
                    {
                        "trait": "Одиночка",
                        "weight": -1
                    }
                ]
            },
            {
                "value": "Эгоцентричный",
                "map": [
                    {
                        "trait": "Высокие запросы",
                        "weight": 1
                    },
                    {
                        "trait": "Практичный",
                        "weight": 1
                    },
                    {
                        "trait": "Сноб",
                        "weight": 1
                    },
                    {
                        "trait": "Эгоцентричный",
                        "weight": 1
                    }
                ]
            },
            {
                "value": "Экоэнтузиаст",
                "map": [
                    {
                        "trait": "Веган",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя океана",
                        "weight": 1
                    },
                    {
                        "trait": "Дитя острова",
                        "weight": 1
                    },
                    {
                        "trait": "Любит природу",
                        "weight": 1
                    },
                    {
                        "trait": "Переработчик",
                        "weight": 1
                    },
                    {
                        "trait": "Фриган",
                        "weight": 1
                    },
                    {
                        "trait": "Экоэнтузиаст",
                        "weight": 1
                    }
                ]
            }
        ],
        "randoms": [
            {
                "category": "Цвета",
                "values": [
                    "Белый",
                    "Жёлтый",
                    "Зелёный",
                    "Коричневый",
                    "Красный",
                    "Оранжевый",
                    "Розовый",
                    "Серый",
                    "Синий",
                    "Фиолетовый",
                    "Чёрный"
                ]
            },
            {
                "category": "Музыка",
                "values": [
                    "Авторская песня",
                    "Альтернативная музыка",
                    "Американа",
                    "Блюз",
                    "Дворовая музыка",
                    "Джаз",
                    "Жуткая музыка",
                    "Карнавальная музыка",
                    "Классическая музыка",
                    "Колыбельные",
                    "Латино",
                    "Латиноамериканская поп-музыка",
                    "Лёгкая музыка",
                    "Летняя музыка",
                    "МУЗЫКА В ЖАНРЕ МЕТАЛЛ",
                    "Музыка в жанре ар-н-би",
                    "Музыка в жанре нью-эйдж",
                    "Музыка в жанре ретро",
                    "Музыка в жанре соул",
                    "Музыка в стиле сельской эстетики",
                    "Музыка для детей",
                    "Музыка для концентрации внимания",
                    "Музыка из будки ди-джея",
                    "Музыка мира",
                    "Музыка с острова",
                    "Музыка эпохи барокко",
                    "Поп-музыка",
                    "Поп-музыка для детей",
                    "Рождественская музыка",
                    "Романтическая музыка",
                    "С-поп",
                    "Странные мелодии",
                    "Хип-хоп",
                    "Электронная музыка",
                    "Японская народная музыка"
                ]
            },
            {
                "category": "Отношения",
                "values": [
                    "Вуху",
                    "Дарение подарков",
                    "Любовь",
                    "Физическая близость",
                    "Флирт"
                ]
            }
        ]
    }
</script>
<script>
    class Info {
        constructor() {
            this.person = 'Персонаж'
            this.partner = 'Партнер'
            this.personScore = 0
            this.partnerScore = 0
            this.compatibilityScore = 0
            this.personTraits = new Set()
            this.partnerTraits = new Set()
        }

        static fromJSON(json) {
            let info = new Info()
            info.person = json['person']
            info.partner = json['partner']
            info.personScore = json['personScore']
            info.partnerScore = json['partnerScore']
            info.compatibilityScore = json['compatibilityScore']
            info.personTraits = new Set(json['personTraits'])
            info.partnerTraits = new Set(json['partnerTraits'])
            return info
        }

        toJSON() {
            return {
                'person': this.person,
                'partner': this.partner,
                'personScore': this.personScore,
                'partnerScore': this.partnerScore,
                'compatibilityScore': this.compatibilityScore,
                'personTraits': Array.from(this.personTraits),
                'partnerTraits': Array.from(this.partnerTraits),
            }
        }
    }

    let DATA = {}

    const loadData = () => {
        return JSON.parse(document.querySelector('#data').textContent)
    }

    const calcCompatibilityByTrait = (compatibility, traitsSet, otherTraitsSet) => {
        if (!otherTraitsSet.has(compatibility.value)) return 0
        return compatibility.map.map(v => traitsSet.has(v.trait) ? v.weight : 0).reduce((a, b) => a + b, 0)
    }

    const calcCompatibilityScore = (personScore, partnerScore) => {
        let avg = (personScore + partnerScore) / 2
        let D = Math.abs(personScore - partnerScore)
        let top = 10
        let baseScore = (avg - D * 0.32) * 100 / top
        let person2partnerPenalty = Math.min(Math.sign(personScore), 0) * top
        let partner2personPenalty = Math.min(Math.sign(partnerScore), 0) * top
        return Math.round(baseScore + partner2personPenalty + person2partnerPenalty) / 10
    }

    const getClass = (num) => {
        if (num > 0) return 'green'
        if (num < 0) return 'red'
        return 'gray'
    }

    const setData = (info) => {
        main.data.info = Info.fromJSON(info.toJSON())
    }

    let main

    const init = () => {
        DATA = loadData()
        registerComponent('CATEGORIES', () => {
            return {
                data: {
                    categories: []
                },
                actions: {
                    calcClassName: function (categoryValue) {
                        let sum = categoryValue['map'].reduce((p, c) => {
                            if (this.traits.has(c.trait)) {
                                p += c.weight
                            }
                            return p
                        }, 0)
                        return getClass(sum)
                    }
                },
                template: '<div @for="self.categories">' +
                    '<div>' +
                    '<p><b>{{loop.item.name}}</b></p>' +
                    '<div @for="loop.item.values">' +
                    '<div :class="{{actions.calcClassName.call(self, loop.item)}}">{{loop.item.value}}</div>' +
                    '</div>' +
                    '</div>' +
                    '</div>'
            }
        })
        registerComponent('RANDOMS', () => {
            return {
                data: {
                    randoms: []
                },
                actions: {
                    calcClassName: function () {
                        let weight = Math.floor(Math.random() * 2) * 2 - 1
                        return getClass(weight)
                    },
                    getValue: function (category) {
                        let i = Math.floor(Math.random() * category.values.length)
                        return category.values[i]
                    }
                },
                template: '<div @for="self.randoms">' +
                    '<div>' +
                    '<p><b>{{loop.item.category}}</b></p>' +
                    '<div :class="{{actions.calcClassName.call(self)}}">{{actions.getValue.call(self, loop.item)}}' +
                    '</div>' +
                    '</div>' +
                    '</div>'
            }
        })
        registerComponent('TRAITS', () => {
            return {
                data: {
                    selectedtraits: new Set(),
                },
                events: {
                    updatetrait: (trait) => {}
                },
                template: '<div @for="DATA.traits">' +
                    '<div @on:click="events.updatetrait(loop.item)" ' +
                    ':class="{{self.selectedtraits.has(loop.item) ? \'yellow\' : \'\'}}"><span>{{loop.item}}</span></div>' +
                    '</div>'
            }
        })
        registerComponent('COMPARISON', () => {
            return {
                data: {
                    info: {},
                    history: JSON.parse(localStorage.getItem('HISTORY') || '[]').map(v => Info.fromJSON(v))
                },
                actions: {
                    clearHistory: function () {
                        localStorage.removeItem('HISTORY')
                        this.history = []
                    },
                    setPersonName: function (newValue) {
                        this.info.person = newValue
                    },
                    setPartnerName: function (newValue) {
                        this.info.partner = newValue
                    },
                    addToHistory: function () {
                        this.history.push(Info.fromJSON(this.info.toJSON()))
                        localStorage.setItem('HISTORY', JSON.stringify(this.history))
                    },
                    removeHistoryData: function (idx) {
                        this.history.splice(idx, 1)
                        localStorage.setItem('HISTORY', JSON.stringify(this.history))
                    },
                    setHistoryData: function (data) {
                        setData(data)
                    },
                },
                template: '<div>' +
                    '<p><input :value="{{self.info.person}}" @on:input="actions.setPersonName(event.target.value)">' +
                    ' &#8594; <span>{{self.info.personScore}}</span> &#8594; ' +
                    '<input :value="{{self.info.partner}}" @on:input="actions.setPartnerName(event.target.value)"></p>' +
                    '<p><span>{{self.info.person}}</span>' +
                    ' &#8592; <span>{{self.info.partnerScore}}</span> &#8592; ' +
                    '<span>{{self.info.partner}}</span></p>' +
                    '<p>Совместимость: <span>{{self.info.compatibilityScore}}</span></p>' +
                    '<div>' +
                    '<button @on:click="actions.addToHistory()">Сохранить</button>' +
                    '<button @on:click="actions.clearHistory()">Очистить таблицу</button>' +
                    '</div>' +
                    '<br>' +
                    '<table id="history" style="width: 100%">' +
                    '<thead>' +
                    '<tr><td colspan="2">Персонаж</td><td colspan="2">Партнер</td>' +
                    '<td rowspan="2" colspan="2" style="width: 10%">Совместимость</td></tr>' +
                    '<tr><td>Имя</td><td>Баллы</td><td>Имя</td><td>Баллы</td></tr>' +
                    '</thead>' +
                    '<tbody @for="self.history" @hold>' +
                    '<tr @on:dblclick="actions.setHistoryData(loop.item)">' +
                    '<td>{{loop.item.person}}</td>' +
                    '<td>{{loop.item.personScore}}</td>' +
                    '<td>{{loop.item.partner}}</td>' +
                    '<td>{{loop.item.partnerScore}}</td>' +
                    '<td>{{loop.item.compatibilityScore}}</td>' +
                    '<td><span @on:click="actions.removeHistoryData(loop.index)" class="close-button">&#10799;</span></td>' +
                    '</tr>' +
                    '</tbody>' +
                    '</table>' +
                    '</div>'
            }
        })
        registerComponent('CATEGORIES-TAB', () => {
            return {
                data: {
                    info: {}
                },
                template: '<div>' +
                    '<categories id="result" :traits="{{self.info.personTraits}}" :categories="{{DATA.categories}}"></categories>' +
                    '<randoms id="random" :randoms="{{DATA.randoms}}"></randoms>' +
                    '</div>'
            }
        })
        registerComponent('COMPARISON-TAB', () => {
            return {
                data: {
                    info: {}
                },
                template: '<div>' +
                    '<comparison id="compatibility-results" :info="{{self.info}}"></comparison>' +
                    '<traits id="partner-traits" :selectedtraits="{{self.info.partnerTraits}}" @on:updatetrait="{{events.updatetrait}}"></traits>' +
                    '</div>'
            }
        })
        registerComponent('TABS', () => {
            return {
                data: {
                    info: {},
                    selectedTab: 'categories'
                },
                actions: {
                    setTab: function(tab) {
                        console.log('setTab', tab)
                        this.selectedTab = tab
                    }
                },
                events: {
                    clearpartnertraits: () => {}
                },
                template: '<div>' +
                    '<div class="tab-header">' +
                    '   <h2 @on:click="actions.setTab(\'categories\')" :class="tab-name {{self.selectedTab === \'categories\' ? \'selected\': \'\'}}">Категории и предпочтения</h2>' +
                    '   <h2 @on:click="actions.setTab(\'compatibility\')" :class="tab-name {{self.selectedTab === \'compatibility\' ? \'selected\': \'\'}}">' +
                    '       Совместимость <button @on:click="events.clearpartnertraits()">Очистить ЧХ</button>' +
                    '   </h2>' +
                    '</div>' +
                    '<div class="tab-body">' +
                    '<div :class="tab {{self.selectedTab === \'categories\' ? \'selected\': \'\'}}">' +
                    '<categories-tab :info="{{self.info}}" id="results"></categories-tab>' +
                    '</div>' +
                    '<div :class="tab {{self.selectedTab === \'compatibility\' ? \'selected\': \'\'}}">' +
                    '<comparison-tab :info="{{self.info}}" @on:updatetrait="{{events.updatetrait}}" id="compatibility"></comparison-tab>' +
                    '</div>' +
                    '</div>' +
                    '</div></div>'

            }
        })
        main = new Component({
            root: document.querySelector('#main'),
            data: {
                info: new Info(),
            },
            actions: {
                clearTraits: function() {
                    this.info.personTraits.clear()
                    this.info.partnerTraits.clear()
                    this.info.personScore = 0
                    this.info.partnerScore = 0
                    this.info.compatibilityScore = 0
                },
                clearPartnerTraits: function() {
                    this.info.partnerTraits.clear()
                    this.info.personScore = 0
                    this.info.partnerScore = 0
                    this.info.compatibilityScore = 0
                },
                updatePersonTraits: function(trait) {
                    if (this.info.personTraits.has(trait)) this.info.personTraits.delete(trait)
                    else this.info.personTraits.add(trait)
                    this.info.personScore = 0
                    this.info.partnerScore = 0
                    for (let compatibility of DATA.compatibility) {
                        this.info.personScore += calcCompatibilityByTrait(compatibility, this.info.partnerTraits, this.info.personTraits)
                        this.info.partnerScore += calcCompatibilityByTrait(compatibility, this.info.personTraits, this.info.partnerTraits)
                    }
                    this.info.compatibilityScore = calcCompatibilityScore(this.info.personScore, this.info.partnerScore)
                },
                updatePartnerTraits: function(trait) {
                    if (this.info.partnerTraits.has(trait)) this.info.partnerTraits.delete(trait)
                    else this.info.partnerTraits.add(trait)
                    this.info.personScore = 0
                    this.info.partnerScore = 0
                    for (let compatibility of DATA.compatibility) {
                        this.info.personScore += calcCompatibilityByTrait(compatibility, this.info.partnerTraits, this.info.personTraits)
                        this.info.partnerScore += calcCompatibilityByTrait(compatibility, this.info.personTraits, this.info.partnerTraits)
                    }
                    this.info.compatibilityScore = calcCompatibilityScore(this.info.personScore, this.info.partnerScore)
                }
            },
            template: '<div>' +
                '<div class="side-menu">' +
                '<h2>Черты характера <button @on:click="actions.clearTraits()">Очистить все</button></h2>' +
                '<traits :selectedtraits="{{self.info.personTraits}}" @on:updatetrait="{{actions.updatePersonTraits}}" id="selected-traits"></traits>' +
                '</div>' +
                '<main><tabs ' +
                ':info="{{self.info}}" ' +
                '@on:updatetrait="{{actions.updatePartnerTraits}}" ' +
                '@on:clearpartnertraits="{{actions.clearPartnerTraits}}" ' +
                'class="tab-container"' +
                '></tabs></main>' +
                '</div>'
        })
    }

    document.addEventListener('DOMContentLoaded', init)
</script>
<div id="main"></div>
</body>
</html>
